<div class='select' [ngClass]='{ "open": isOpen }'>
  <div class='select-selected' (click)='toggle()'>
    <span class='placeholder' *ngIf='!model'>Select...</span>
    <span>{{ getLabel(model) }}</span>
    <span class='icons'>
      <i class='fa fa-times' *ngIf='model' (click)='selectItem(null)'></i>
      <i class='fa fa-caret-down'></i>
    </span>
  </div>
  <div class='select-dropdown' #dropdownPanel
    [class.top]='currentDropdownPosition === "top"'
    [class.bottom]='currentDropdownPosition === "bottom"'
    [ngStyle]='{ visibility: isOpen ? "visible": "hidden"}'
    >
    <input #searchInput
      class='select-search'
      type='search'
      placeholder='Search...'
      (input)='onSearch(searchInput.value)'
    />
    <virtual-scroll class="option-container"
      [bufferAmount]="4"
      [items]="filteredItems"
      [scrollAnimationTime]='500'
      (update)="viewPortItems = $event"
    >
      <div class="option" role="option" (click)="selectItem(item)" (mousedown)="$event.preventDefault()"
        *ngFor="let item of viewPortItems;"
        [class.marked]="item === this.filteredItems[markedItem]"
        [mfOptionHighlight]="searchTerm"
        [innerHTML] = 'getLabel(item)'
      >
      </div>
    </virtual-scroll>
  </div>
</div>



